<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Add CSP meta tag -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.googletagmanager.com https://www.google-analytics.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https://www.google-analytics.com; connect-src 'self' https://www.google-analytics.com;"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Folder Automation on a Mac Using Automator | David Karim - DevOps Engineer</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Folder Automation on a Mac Using Automator" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I am a professional with over 20 years of experience in the field of tech and telecommunications." />
<meta property="og:description" content="I am a professional with over 20 years of experience in the field of tech and telecommunications." />
<link rel="canonical" href="https://dkarim.com/folder-automation-on-mac/" />
<meta property="og:url" content="https://dkarim.com/folder-automation-on-mac/" />
<meta property="og:site_name" content="David Karim - DevOps Engineer" />
<meta property="og:image" content="https://dkarim.com/assets/images/2025-10-11-folder-automation-on-mac/automator-abstract.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-10-11T00:00:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://dkarim.com/assets/images/2025-10-11-folder-automation-on-mac/automator-abstract.jpg" />
<meta property="twitter:title" content="Folder Automation on a Mac Using Automator" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-11T00:00:00-04:00","datePublished":"2025-10-11T00:00:00-04:00","description":"I am a professional with over 20 years of experience in the field of tech and telecommunications.","headline":"Folder Automation on a Mac Using Automator","image":"https://dkarim.com/assets/images/2025-10-11-folder-automation-on-mac/automator-abstract.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://dkarim.com/folder-automation-on-mac/"},"url":"https://dkarim.com/folder-automation-on-mac/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">

    <!-- Enhanced Twitter/X Card Meta Tags -->
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://dkarim.com/assets/images/2025-10-11-folder-automation-on-mac/automator-abstract.jpg" />
    
    <meta name="twitter:site" content="@davidkarim" />
    <meta name="twitter:creator" content="@davidkarim" />
    <meta name="twitter:title" content="Folder Automation on a Mac Using Automator" />
    <meta name="twitter:description" content="" /><link type="application/atom+xml" rel="alternate" href="https://dkarim.com/feed.xml" title="David Karim - DevOps Engineer" /></head>
  <body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">David Karim - DevOps Engineer</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/education/">Education</a><!-- Simple Categories link -->
          <a class="page-link" href="/categories/">Categories</a>
        </div>
      </nav></div>
</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Folder Automation on a Mac Using Automator</h1>
    
    <!-- Add category tags -->
    
    <div class="post-categories">
      
      <a href="/categories/instructional/" class="post-category">instructional</a>
      
    </div>
    
    
    <p class="post-meta">
      <time class="dt-published" datetime="2025-10-11T00:00:00-04:00" itemprop="datePublished">Oct 11, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img src="/assets/images/2025-10-11-folder-automation-on-mac/automator-abstract.jpg" alt="" style="border-radius: 20px;" /></p>

<h1 id="introduction">Introduction</h1>

<p>We will be using ImageMagick and the Mac Automator to help us more easily do a common image conversion task. This can be useful if you commonly need to reduce image sizes for publishing to the web or for doing common conversions from one file type to another. The end result will be a process where you can simply drop a file in a folder and it will automatically do the conversion.</p>

<p>We will be using <a href="https://imagemagick.org/">ImageMagick</a> to process the files and a custom script to run it.</p>

<h2 id="steps">Steps</h2>

<ul>
  <li>Install ImageMagick:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>imagemagick

<span class="c"># Confirm that magick command works</span>
magick <span class="nt">-help</span>
</code></pre></div></div>

<ul>
  <li>Next, using the Mac Finder, create a folder for your automation. Letâ€™s call it <code class="language-plaintext highlighter-rouge">image_edit</code>. Inside of the <code class="language-plaintext highlighter-rouge">image_edit</code> folder, create an <code class="language-plaintext highlighter-rouge">input</code> and an <code class="language-plaintext highlighter-rouge">output</code> folder. The automation will run when we drop a file in the <code class="language-plaintext highlighter-rouge">input</code> folder, and the automation will then place the edited file in the <code class="language-plaintext highlighter-rouge">output</code> folder.</li>
  <li>Use Spotlight Search (Command-Space) to find Automator.</li>
  <li>
    <p>Once opened, select File / New and then select folder action
<img src="/assets/images/2025-10-11-folder-automation-on-mac/automator-folder-action.png" alt="" /></p>
  </li>
  <li>Find the dropdown at the top labeled <strong>Folder Action receives files and folders added to</strong>. Use the dropdown to select the <code class="language-plaintext highlighter-rouge">input</code> folder that was created.</li>
  <li>
    <p>In the search field, type shell to easily find the <strong>Run Shell Script</strong> action. Drag it over to the Main section of the window.
<img src="/assets/images/2025-10-11-folder-automation-on-mac/automator-run-shell-script.png" alt="" /></p>
  </li>
  <li>
    <p>Keep the Shell as <code class="language-plaintext highlighter-rouge">/bin/zsh</code> and change the Pass input to <code class="language-plaintext highlighter-rouge">as arguments</code>. At this stage, the automator may show an example script within the action as shown:
<img src="/assets/images/2025-10-11-folder-automation-on-mac/automator-sample-action.png" alt="" /></p>
  </li>
  <li>Create a shell script in the <code class="language-plaintext highlighter-rouge">image_edit</code> folder that will edit the image. In our case, we will have the script run ImageMagick on the image to have it with a specific quality and dimension, and to have it standardized as a JPG. Regardless of the format you drop in the folder, ImageMagick will attempt to make the adjustments and save the file as a JPG.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>

<span class="c"># The variable '$f' will hold the path to the file that was added.</span>
<span class="k">for </span>f <span class="k">in</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
<span class="k">do</span>
	<span class="c"># Add echo command to validate the automation is running</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">date</span><span class="si">)</span><span class="s2">: New file added: </span><span class="nv">$f</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> ~/Documents/folder_action_log.txt

    <span class="c"># Get the base filename without the extension</span>
    <span class="nv">filename</span><span class="o">=</span><span class="si">$(</span><span class="nb">basename</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span><span class="si">)</span>
    <span class="nv">name_no_ext</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">filename</span><span class="p">%.*</span><span class="k">}</span><span class="s2">"</span>
    <span class="nv">output_file</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/Documents/Scripts/image_edit/output/</span><span class="k">${</span><span class="nv">name_no_ext</span><span class="k">}</span><span class="s2">.jpg"</span>

	<span class="c"># Use more echo commands for troubleshooting only</span>
    <span class="nb">echo</span> <span class="s2">"output_file: </span><span class="nv">$output_file</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> ~/Documents/folder_action_log.txt
    <span class="nb">echo</span> <span class="s2">"name_no_ext: </span><span class="nv">$name_no_ext</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> ~/Documents/folder_action_log.txt
    <span class="nb">echo</span> <span class="s2">"filename: </span><span class="nv">$filename</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> ~/Documents/folder_action_log.txt

	<span class="c"># Run ImageMagick with desired options and delete original file</span>
    /opt/homebrew/bin/magick <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="nt">-strip</span> <span class="nt">-quality</span> 90 <span class="nt">-resize</span> 1024x628<span class="se">\&gt;</span> <span class="s2">"</span><span class="nv">$output_file</span><span class="s2">"</span>
    <span class="nb">rm</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span>

<span class="k">done</span>
</code></pre></div></div>

<ul>
  <li>After the shell script has been created, you can now tell Automator where the script is located and add a placeholder for the arguments. Automator will use the full file name (using a full path) for the argument. Example:</li>
</ul>

<p><img src="/assets/images/2025-10-11-folder-automation-on-mac/automator-resize-image.png" alt="" /></p>

<ul>
  <li>
    <p>In  the Finder, go to the <code class="language-plaintext highlighter-rouge">input</code> folder and select Services and then Folder Actions Setup.
<img src="/assets/images/2025-10-11-folder-automation-on-mac/automator-folder-actions.png" alt="" /></p>
  </li>
  <li>Select Run Service if a pop up appears.</li>
  <li>Choose a script to attach. Attach the script from the list shown.</li>
  <li>You should see the folder name and the script name in the Folder Actions Setup window.</li>
</ul>

<h2 id="test-and-troubleshoot">Test and Troubleshoot</h2>

<p>Test the automation by dropping an image in the input folder. You should see a new file created in the output folder and the input folder file should disappear. Notice that the sample script provided will use echo commands to send output to a file. This can be very helpful during testing to make sure that the script is running properly. You may want to remove those commands once the script is working properly to avoid having a huge log file.</p>

  </div><a class="u-url" href="/folder-automation-on-mac/" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">David Karim - DevOps Engineer</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">David Karim - DevOps Engineer</li><li><a class="u-email" href="mailto:david@bocacontracts.com">david@bocacontracts.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/davidkarim"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">davidkarim</span></a></li><li><a href="https://www.twitter.com/davidkarim"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">davidkarim</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>I am a professional with over 20 years of experience in the field of tech and telecommunications.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
